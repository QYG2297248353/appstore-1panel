# Outline

## æ‚¨å›¢é˜Ÿçš„çŸ¥è¯†åº“

è¿·å¤±åœ¨æ··ä¹±çš„æ–‡æ¡£ä¸­ï¼Ÿä¸å¤ªç¡®å®šè°æœ‰æƒè®¿é—®ï¼ŸåŒäº‹åœ¨èŠå¤©ä¸­åå¤è¯·æ±‚ç›¸åŒçš„ä¿¡æ¯ï¼Ÿæ˜¯æ—¶å€™æ•´ç†å›¢é˜Ÿçš„çŸ¥è¯†äº†ã€‚

#### ç›´è§‚çš„ç¼–è¾‘ä½“

ä¸€ä¸ªæå¿«çš„ç¼–è¾‘å™¨ï¼Œæ”¯æŒ Markdownã€æ–œæ å‘½ä»¤ã€äº¤äº’å¼åµŒå…¥ç­‰ç­‰ã€‚

#### å¤šäººåä½œæ¼”è®²

ä¸å›¢é˜Ÿæˆå‘˜å®æ—¶åä½œå¤„ç†æ–‡æ¡£ã€‚è¯„è®ºå’Œè¯é¢˜è®©å¯¹è¯äº•äº•æœ‰æ¡ã€‚

#### å¼ºå¤§çš„æœç´¢å’Œé—®ç­”åŠŸèƒ½

ç«‹å³åœ¨æ‚¨çš„å·¥ä½œç©ºé—´ä¸­è¿›è¡Œæœç´¢ï¼Œå¹¶æå‡ºæœ‰å…³æ–‡æ¡£çš„é—®é¢˜ä»¥è·å¾—ç›´æ¥çš„ AI ç­”æ¡ˆã€‚

#### ä¸ Slack é›†æˆ

æ— éœ€ç¦»å¼€èŠå¤©å³å¯æœç´¢ã€å…±äº«æ–‡æ¡£å¹¶æå‡ºé—®é¢˜ã€‚æ–‡æ¡£æ›´æ–°æ—¶å‘é¢‘é“å‘å¸ƒé€šçŸ¥ã€‚

#### å…¬å¼€åˆ†äº«

é€šè¿‡é“¾æ¥å…¬å¼€å…±äº«æ–‡æ¡£ï¼Œæˆ–ä¸å›¢é˜Ÿç§ä¸‹å…±äº«æ–‡æ¡£ã€‚ä½¿ç”¨æ‚¨è‡ªå·±çš„å“ç‰Œé¢œè‰²ã€å¾½æ ‡å’ŒåŸŸåã€‚

### æ›´å¤šç‰¹ç‚¹

+ é€Ÿåº¦æå¿«

Outline é€Ÿåº¦å¾ˆå¿«ï¼ŒçœŸçš„å¾ˆå¿«ã€‚æˆ‘ä»¬åŠªåŠ›ç¡®ä¿æ¯«ç§’çº§å“åº”æ—¶é—´ - æ–‡æ¡£ç«‹å³åŠ è½½ã€æœç´¢å¿«é€Ÿã€ç”¨æˆ·ç•Œé¢å¯¼èˆªå¿«æ·ã€‚

+ åä½œæ€§

Outline ç»è¿‡ç²¾å¿ƒè®¾è®¡ï¼ŒåŠŸèƒ½å¼ºå¤§ã€å®æ—¶ä¸”æ˜“äºä½¿ç”¨ã€‚é˜…è¯»å’Œç¼–å†™æ–‡æ¡£åº”è¯¥æ˜¯ä¸€ä»¶ä»¤äººæ„‰å¿«çš„äº‹æƒ…ã€‚

+ æ·±è‰²æ¨¡å¼

å¯¹äºå¤œçŒ«å­æ¥è¯´ï¼Œæˆ‘ä»¬å·²ç»ä¸ºæ‚¨æä¾›äº†å¸®åŠ©ã€‚ Outline å…·æœ‰æ¼‚äº®çš„æ·±è‰²æ¨¡å¼ï¼Œæ—¢å…»çœ¼åˆç¾è§‚ã€‚

+ å®‰å…¨å’Œæƒé™

é€šè¿‡è¯»å†™æƒé™ã€ç”¨æˆ·ç»„ã€æ¥å®¾ç”¨æˆ·ã€å…¬å…±å…±äº«ç­‰ç®¡ç†çŸ¥è¯†åº“â€¦â€¦

+ 20+ é›†æˆ

ç®€å•é›†æˆåˆ°æ‚¨æ—¥å¸¸ä½¿ç”¨çš„å·¥å…·ä¸­ï¼Œä¾‹å¦‚ Slackã€Figmaã€Loom ç­‰ã€‚æ‰¾ä¸åˆ°æ‚¨éœ€è¦çš„é›†æˆï¼Ÿè¿˜æœ‰ä¸€ä¸ªå¼€æ”¾çš„APIã€‚

+ ç”¨æ‚¨çš„è¯­è¨€

Outline æ”¯æŒ RTLï¼Œå¹¶åŒ…å« 17 ç§è¯­è¨€çš„ç¿»è¯‘ï¼ŒåŒ…æ‹¬ ğŸ‡«ğŸ‡· æ³•è¯­ã€ğŸ‡ªğŸ‡¸ è¥¿ç­ç‰™è¯­ã€ğŸ‡©ğŸ‡ª å¾·è¯­ã€ğŸ‡°ğŸ‡· éŸ©è¯­å’Œ ğŸ‡¨ğŸ‡³ ä¸­æ–‡ã€‚

+ å»ºäºå…¬å…±åœºæ‰€

Outline ä¼šå®šæœŸæ›´æ–°æ–°åŠŸèƒ½å’Œä¿®å¤ï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬çš„å…¬å…±å˜æ›´æ—¥å¿—ä»¥äº†è§£è¿›å±•æƒ…å†µï¼

+ å¼€æº

Outlineçš„æºä»£ç æ˜¯å…¬å¼€çš„ï¼Œå¼€å‘æ˜¯å…¬å¼€å®Œæˆçš„ã€‚æ›´å–œæ¬¢æ‰˜ç®¡åœ¨æ‚¨è‡ªå·±çš„åŸºç¡€è®¾æ–½ä¸Šï¼Ÿæ²¡é—®é¢˜ã€‚

+ å¯å®šåˆ¶

è‡ªå®šä¹‰åŸŸå…è®¸æ‚¨æ‹¥æœ‰docs.yourteam.comã€‚å¸¦æœ‰æ‚¨è‡ªå·±çš„å“ç‰Œå’Œé¢œè‰²çš„ç™½è‰²æ ‡ç­¾ã€‚

## å®‰è£…è¯´æ˜

ç¯å¢ƒæ”¯æŒï¼š

+ æ•°æ®åº“ï¼šPostgreSQL
+ ç¼“å­˜ï¼šRedis

### `SECRET_KEY` å®‰å…¨å¯†é’¥

> è¯¥å¯†é’¥ç”¨äºåŠ å¯†æ•°æ®ï¼Œä¸¢å¤±åå°†æ— æ³•è§£å¯†æ•°æ®ã€‚

è¯·å¡«å†™ `åå…­è¿›åˆ¶ç¼–ç çš„32å­—èŠ‚` å¯†é’¥ï¼Œä¾‹å¦‚ `fbad4f5da794acbc10f060cdfcf8673300f3302d87f076d7f6e781d4840e9c3d`ã€‚

ç”Ÿæˆæ–¹å¼ï¼š

SSH è¿›å…¥æœåŠ¡å™¨ï¼Œæ‰§è¡Œ `openssl rand -hex 32`ã€‚

```shell
openssl rand -hex 32
```

### `UTILS_SECRET` å·¥å…·å¯†é’¥

æ ¼å¼ä¸é‡è¦ï¼Œåªè¦æ˜¯ä¸€ä¸ªé•¿å­—ç¬¦ä¸²å³å¯ã€‚

å½“ç„¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `openssl rand -hex 32` ç”Ÿæˆã€‚

### 'DATABASE_URL' æ•°æ®åº“é“¾æ¥

åŸºæœ¬æ ¼å¼

```shell
postgres://username:password@hostname:port/database
```

ç¤ºä¾‹

```shell
postgres://outline:outline@127.0.0.1:5432/outline
```

### 'REDIS_URL' ç¼“å­˜é“¾æ¥

åŸºæœ¬æ ¼å¼

```shell
redis://hostname:port
```

ç¤ºä¾‹

```shell
redis://127.0.0.1:6379
```

å«å¯†ç æ ¼å¼

```shell
redis://:password@hostname:port
```

ç¤ºä¾‹
`outline` ä¸º å¯†ç  `:` ä¸ `@` ä¸å¯çœç•¥

```shell
redis://:outline@127.0.0.1:6379
```

### AUTHENTICATION é‰´æƒé€‰æ‹©

è‡³å°‘é€‰æ‹©ä¸€ç§é‰´æƒæ–¹å¼ï¼Œå¡«å†™å¯¹åº”çš„é…ç½®ä¿¡æ¯ã€‚

#### `Slack` é›†æˆ

é…ç½®ï¼š`https://api.slack.com/apps`

å›è°ƒåœ°å€ï¼š`https://<URL>/auth/slack.callback`

```shell
# Slack å®¢æˆ·ç«¯ ID (é‰´æƒæ–¹å¼)
SLACK_CLIENT_ID=
# Slack å®¢æˆ·ç«¯ å¯†é’¥ (é‰´æƒæ–¹å¼)
SLACK_CLIENT_SECRET=
```

#### `Google Auth` é›†æˆ

é…ç½®ï¼š`https://console.cloud.google.com/apis/credentials`

å›è°ƒåœ°å€ï¼š`https://<URL>/auth/google.callback`

```shell
# Google å®¢æˆ·ç«¯ ID (é‰´æƒæ–¹å¼)
GOOGLE_CLIENT_ID=
# Google å®¢æˆ·ç«¯ å¯†é’¥ (é‰´æƒæ–¹å¼)
GOOGLE_CLIENT_SECRET=
```

#### `Microsoft/Azure` é›†æˆ

é…ç½®ï¼š`https://docs.getoutline.com/s/dfa77e56-d4d2-4b51-8ff8-84ea6608faa4`

å›è°ƒåœ°å€ï¼š`https://<URL>/auth/azure.callback`

```shell
# Azure å®¢æˆ·ç«¯ ID (é‰´æƒæ–¹å¼)
AZURE_CLIENT_ID=
# Azure å®¢æˆ·ç«¯ å¯†é’¥ (é‰´æƒæ–¹å¼)
AZURE_CLIENT_SECRET=
# Azure èµ„æºåº”ç”¨ ID (é‰´æƒæ–¹å¼)
AZURE_RESOURCE_APP_ID=
```

#### `GitHub` é›†æˆ

é…ç½®ï¼š`https://github.com/settings/apps`

å›è°ƒåœ°å€ï¼š`https://<URL>/api/github.callback`

```shell
# GitHub å®¢æˆ·ç«¯ ID (é‰´æƒæ–¹å¼)
GITHUB_CLIENT_ID=
# GitHub å®¢æˆ·ç«¯ å¯†é’¥ (é‰´æƒæ–¹å¼)
GITHUB_CLIENT_SECRET=
# GitHub åº”ç”¨ID (é‰´æƒæ–¹å¼)
GITHUB_APP_ID=
# GitHub åº”ç”¨åç§° (é‰´æƒæ–¹å¼)
GITHUB_APP_NAME=
# GitHub åº”ç”¨ç§é’¥ (é‰´æƒæ–¹å¼)
GITHUB_APP_PRIVATE_KEY=
```

#### `OIDC` é›†æˆ

å›è°ƒåœ°å€ï¼š`https://<URL>/auth/oidc.callback`

```shell
# OIDC å®¢æˆ·ç«¯ ID (é‰´æƒæ–¹å¼)
OIDC_CLIENT_ID=
# OIDC å®¢æˆ·ç«¯ å¯†é’¥ (é‰´æƒæ–¹å¼)
OIDC_CLIENT_SECRET=
# OIDC é¢å‘è€… (é‰´æƒæ–¹å¼)
OIDC_AUTH_URI=
# OIDC ä»¤ç‰Œé¢å‘è€… (é‰´æƒæ–¹å¼)
OIDC_TOKEN_URI=
# OIDC ç”¨æˆ·ä¿¡æ¯é¢å‘è€… (é‰´æƒæ–¹å¼)
OIDC_USERINFO_URI=
# OIDC ç™»å‡ºé¢å‘è€… (é‰´æƒæ–¹å¼)
OIDC_LOGOUT_URI=

# å¯é€‰é…ç½®
# OIDC ç”¨æˆ·åå£°æ˜ (é‰´æƒæ–¹å¼)
OIDC_USERNAME_CLAIM=preferred_username
# OIDC ç™»å½•æŒ‰é’®åç§° (é‰´æƒæ–¹å¼)
OIDC_DISPLAY_NAME=OpenID
# OIDC ä½œç”¨åŸŸ (é‰´æƒæ–¹å¼)
OIDC_SCOPES=openid profile email
```

## Nginx åå‘ä»£ç†

```config
server {
  server_name docs.mycompany.com;
  listen 80;
  listen 443 ssl;

  location / {
    proxy_pass http://localhost:3000/;

    proxy_set_header Upgrade $http_upgrade;
    proxy_set_header Connection "Upgrade";
    proxy_set_header Host $host;

    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;proxy_set_header Host $host;
    proxy_set_header Host $http_host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Scheme $scheme;
    proxy_set_header X-Forwarded-Proto $scheme;
    proxy_redirect off;
  }
}
```
